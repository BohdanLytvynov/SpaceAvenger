<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:tvm="clr-namespace:SpaceAvenger.Editor.ViewModels.TreeItems"
                    xmlns:tcvm="clr-namespace:SpaceAvenger.Editor.ViewModels.Components.Transform"
                    xmlns:scvm="clr-namespace:SpaceAvenger.Editor.ViewModels.Components.Sprites"
                    xmlns:acvm="clr-namespace:SpaceAvenger.Editor.ViewModels.Components.Animations"
                    xmlns:controls="clr-namespace:WPFGameEngine.Editor.Controls;assembly=WPFGameEngine"
                    xmlns:diag="clr-namespace:System.Diagnostics;assembly=WindowsBase"
                    xmlns:options="clr-namespace:SpaceAvenger.Editor.ViewModels.Options"
                    xmlns:easeOptionsVM="clr-namespace:SpaceAvenger.Editor.ViewModels.EaseOptions"
                    >
    <!--#region Tree View Item-->
    <HierarchicalDataTemplate DataType="{x:Type tvm:TreeItemViewModel}"
                              ItemsSource="{Binding Children, UpdateSourceTrigger=PropertyChanged}">
        <Border Style="{StaticResource BorderRoundStyle}" Margin="5" Width="{Binding RelativeSource={RelativeSource 
            Mode=FindAncestor, AncestorType=TreeView}, Path=ActualWidth}"
                x:Name="brd" Background="White">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="{Binding ShowNumber, StringFormat='№{0})'}" Style="{StaticResource FieldName}"
                           VerticalAlignment="Center"/>
                <ToggleButton IsChecked="{Binding Selected, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
              Content="Select" Margin="10"
              VerticalAlignment="Center"/>
                <TextBox Style="{StaticResource TxtBoxInputStyle}" Margin="0,10,0,10">
                    <TextBox.Text>
                        <Binding Path="Name" UpdateSourceTrigger="LostFocus" Mode="TwoWay">
                            <Binding.ValidationRules>
                                <DataErrorValidationRule/>
                            </Binding.ValidationRules>
                        </Binding>
                    </TextBox.Text>
                </TextBox>
            </StackPanel>
        </Border>
        <HierarchicalDataTemplate.Triggers>
            <DataTrigger Binding="{Binding Selected, UpdateSourceTrigger=PropertyChanged}" Value="True">
                <DataTrigger.EnterActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <ColorAnimation From="White" To="LightGreen"
                                    Duration="0:0:0.03"
                                    Storyboard.TargetName="brd"
                                    Storyboard.TargetProperty="(Border.Background).Color"
                                    />
                        </Storyboard>
                    </BeginStoryboard>
                </DataTrigger.EnterActions>
                <DataTrigger.ExitActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <ColorAnimation From="LightGreen" To="White"
    Duration="0:0:0.03"
    Storyboard.TargetName="brd"
    Storyboard.TargetProperty="(Border.Background).Color"
    />
                        </Storyboard>
                    </BeginStoryboard>
                </DataTrigger.ExitActions>
            </DataTrigger>
        </HierarchicalDataTemplate.Triggers>
    </HierarchicalDataTemplate>
    <!--#endregion-->

    <!--#region Components -->
    <DataTemplate DataType="{x:Type tcvm:TransformComponentViewModel}">
        <StackPanel Orientation="Vertical" Width="{Binding RelativeSource={RelativeSource Mode=FindAncestor, 
            AncestorType=ListView}, Path=ActualWidth}">
            <Rectangle Style="{StaticResource BorderRectStyle}"/>
            <TextBlock Text="{Binding ComponentName, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource DescLabel}"/>
            <Rectangle Style="{StaticResource BorderRectStyle}"/>
            <controls:Slider Value="{Binding PositionX, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay 
                }"
Margin="10" LabelText="X-Position: "
Minimum="0" Maximum="1000"
                 />
            <controls:Slider Value="{Binding PositionY, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
Margin="10" LabelText="Y-Position: "
Minimum="0" Maximum="1000"
                 />
            <controls:Slider Value="{Binding Rot, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
Margin="10" LabelText="Rotation: "
Minimum="-360.0" Maximum="360.0"
                 />
            <controls:Slider Value="{Binding ScaleX, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
Margin="10" LabelText="X-Scale: "
Minimum="0" Maximum="1.0"
                 />
            <controls:Slider Value="{Binding ScaleY, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
Margin="10" LabelText="Y-Scale: "
Minimum="0" Maximum="1.0"
                 />
            <controls:Slider Value="{Binding CenterPositionX, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
Margin="10" LabelText="Center Position X: " Minimum="0" Maximum="1.0"/>
            <controls:Slider Value="{Binding CenterPositionY, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
    Margin="10" LabelText="Center Position Y:"
    Minimum="0" Maximum="1.0"
                             />
        </StackPanel>
    </DataTemplate>

    <DataTemplate DataType="{x:Type scvm:SpriteComponentViewModel}">
        <StackPanel Orientation="Vertical" 
                    Width="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}, Path=ActualWidth}">
            <Rectangle Style="{StaticResource BorderRectStyle}"/>
            <TextBlock Text="{Binding ComponentName, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource DescLabel}"/>
            <Rectangle Style="{StaticResource BorderRectStyle}"/>

            <StackPanel Orientation="Horizontal">
                <Border Style="{StaticResource BorderRoundStyle}">
                    <Image Source="{Binding ImageSource, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                       Width="150" Height="150" Stretch="Uniform" Margin="10"/>
                </Border>
                <StackPanel Orientation="Vertical" Margin="20,40,0,0">
                    <ComboBox ItemsSource="{Binding ResourceNames, UpdateSourceTrigger=PropertyChanged}"
                          SelectedItem="{Binding SelectedResource, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                          Style="{StaticResource ConboboxStyle}" VerticalAlignment="Center" Margin="20,0,0,0"/>
                    <Button Content="Apply" Margin="20,20,200,0" Command="{Binding OnApplyButtonPressed}"/>
                </StackPanel>
            </StackPanel>
        </StackPanel>
    </DataTemplate>

    <DataTemplate DataType="{x:Type acvm:AnimationComponentViewModel}">
        <StackPanel Orientation="Vertical"
                    Width="{Binding Path=ActualWidth,
            RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}">
            <Rectangle Style="{StaticResource BorderRectStyle}"/>
            <TextBlock Text="{Binding ComponentName, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource DescLabel}"/>
            <Rectangle Style="{StaticResource BorderRectStyle}"/>

            <Button Content="Configure Animation" Margin="10,10,400,10" 
                    Command="{Binding OnConfigureButtonPressed}"/>
        </StackPanel>
    </DataTemplate>

    <DataTemplate DataType="{x:Type easeOptionsVM:EaseOptionsViewModel}">
        <StackPanel Orientation="Vertical">
            <controls:Slider MinHeight="60" Minimum="1" Maximum="1000"
                             LabelText="{Binding ConstantName, UpdateSourceTrigger=PropertyChanged}"
                Value="{Binding Value, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                />
        </StackPanel>
    </DataTemplate>

    <DataTemplate DataType="{x:Type options:OptionsViewModel}">
        <TextBlock Text="{Binding DisplayName, UpdateSourceTrigger=PropertyChanged}"/>
    </DataTemplate>
    <!--#endregion-->
</ResourceDictionary>