<UserControl x:Class="WPFGameEngine.Editor.Controls.Slider"
                          xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:WPFGameEngine.Editor.Controls"
             xmlns:fa5="http://schemas.fontawesome.com/icons/"
             xmlns:minMaxProxy="clr-namespace:WPFGameEngine.Editor.Controls.Proxy.MinMax"
             xmlns:validators="clr-namespace:WPFGameEngine.Editor.Controls.Validators"
             mc:Ignorable="d" 
             d:DesignHeight="70" d:DesignWidth="800"
             d:DataContext="{d:DesignInstance local:Slider, IsDesignTimeCreatable=True}"
             x:Name="Control" Loaded="Control_Loaded">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="ControlStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid>
        <minMaxProxy:MinMaxProxy 
            MinIn="{Binding ElementName=Control,
            Path=Minimum, UpdateSourceTrigger=PropertyChanged}"
            MaxIn="{Binding ElementName=Control,
            Path=Maximum, UpdateSourceTrigger=PropertyChanged}"
            MinOut="{Binding ElementName=DRV, Path=Min, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
            MaxOut="{Binding ElementName=DRV, Path=Max, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
            />
        <Border Style="{StaticResource Border}" x:Name="Border">
            <StackPanel x:Name="StackVertical" Orientation="Vertical">
                <StackPanel x:Name="StackHorizontal" Orientation="Horizontal">
                    <Label x:Name="Label" Content="{Binding ElementName=Control,Path=LabelText, UpdateSourceTrigger=PropertyChanged}"
                           Style="{StaticResource InputTxtBoxLabel}"/>
                    <TextBox MinWidth="100" x:Name="TextValue" 
                             Style="{StaticResource TxtBoxInputStyle}">
                        <TextBox.Text>
                            <Binding ElementName="Control" Path="Value" Mode="TwoWay" UpdateSourceTrigger="PropertyChanged">
                                <Binding.ValidationRules>
                                    <validators:DoubleValueRangeValidator x:Name="DRV"/>
                                </Binding.ValidationRules>
                            </Binding>
                        </TextBox.Text>
                    </TextBox>
                    <Label Margin="30,0,0,0" x:Name="MinLabel" Content="Minimum:" Style="{StaticResource InputTxtBoxLabel}"/>
                    <TextBox x:Name="Min" Margin="5,0,0,0" MinWidth="40"
                             Style="{StaticResource TxtBoxInputStyle}"
                             >
                        <TextBox.Text>
                            <Binding ElementName="Control" Path="Minimum" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                <Binding.ValidationRules>
                                    <validators:DoubleValueValidator/>
                                </Binding.ValidationRules>
                            </Binding>
                        </TextBox.Text>
                    </TextBox>
                    <Label Margin="10,0,0,0" Content="Maximum:" x:Name="MaxLabel" Style="{StaticResource InputTxtBoxLabel}"/>
                    <TextBox x:Name="Max" Margin="5,0,0,0" MinWidth="40"
                             Style="{StaticResource TxtBoxInputStyle}"
                             >
                        <TextBox.Text>
                            <Binding ElementName="Control" Path="Maximum" UpdateSourceTrigger="PropertyChanged" Mode="TwoWay">
                                <Binding.ValidationRules>
                                    <validators:DoubleValueValidator/>
                                </Binding.ValidationRules>
                            </Binding>
                        </TextBox.Text>
                    </TextBox>
                </StackPanel>
                <Slider x:Name="SliderValue" Style="{StaticResource SliderInternal}"
        Width="{Binding ElementName=Control,
        UpdateSourceTrigger=PropertyChanged,
        Path=Width}" Value="{Binding ElementName=Control, Path=Value ,UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                        Minimum="{Binding ElementName=Control, Path=Minimum, UpdateSourceTrigger=PropertyChanged}"
                        Maximum="{Binding ElementName=Control, Path=Maximum, UpdateSourceTrigger=PropertyChanged}"
                        />
            </StackPanel>
        </Border>
    </Grid>
</UserControl>
